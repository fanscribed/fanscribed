{% extends "base.html" %}
{% load staticfiles %}

{% block nav_class_transcribe %}
  active
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'vendor/soundmanagerv297a-20131201/css/page-player.css' %}"/>
  <link rel="stylesheet" href="{% static 'vendor/soundmanagerv297a-20131201/css/flashblock.css' %}"/>
{% endblock %}

{% block extra_js %}
  {% if DEBUG %}
    <script type="text/javascript" src="{% static 'vendor/soundmanagerv297a-20131201/script/soundmanager2.js' %}"></script>
  {% else %}
    <script type="text/javascript" src="{% static 'vendor/soundmanagerv297a-20131201/script/soundmanager2-nodebug-jsmin.js' %}"></script>
  {% endif %}
  <script>

    soundManager.setup({
      {% if DEBUG %}debugMode: true,{% endif %}
      flashVersion: 9,
      preferFlash: true, // for visualization effects
      useHighPerformance: true, // keep flash on screen, boost performance
      wmode: 'transparent', // transparent SWF, if possible
      url: '{% static 'vendor/soundmanagerv297a-20131201/swf/' %}'
    });

    // custom page player configuration

    var PP_CONFIG = {
      autoStart: true,      // begin playing first sound when page loads
      playNext: false,        // stop after one sound, or play through list until end
      useThrottling: false,  // try to rate-limit potentially-expensive calls (eg. dragging position around)</span>
      usePeakData: true,     // [Flash 9 only] whether or not to show peak data (left/right channel values) - nor noticable on CPU
      useWaveformData: true,// [Flash 9 only] show raw waveform data - WARNING: LIKELY VERY CPU-HEAVY
      useEQData: false,      // [Flash 9 only] show EQ (frequency spectrum) data
      useFavIcon: false     // try to apply peakData to address bar (Firefox + Opera) - performance note: appears to make Firefox 3 do some temporary, heavy disk access/swapping/garbage collection at first(?) - may be too heavy on CPU
    }

  </script>
  <script type="text/javascript" src="{% static 'vendor/soundmanagerv297a-20131201/script/page-player.js' %}"></script>
{% endblock %}

{% block content %}

  <h1><a href="{% url 'transcripts:detail' pk=task.transcript.pk %}">{{ task.transcript }}</a></h1>

  <div id="sm2-container">
   <!-- SM2 flash goes here -->
  </div>

{% endblock %}
